# Fidget Spinner Net Exploit

Found by MoskalykA on 2023.08.04  
Addon can be downloaded from the workshop (id: 948863648)

Fidget Spinner has a Net Exploit in the `FidgetSpinnerColor` net.Receive function.

### TL;DR

The addon does not check whether the entity sent corresponds to a hand spinner and whether the player owns it.
The net.Receive function on the server side simply takes an entity, a colour and modifies the colour of the entity.

### The Code

This is the shortened but otherwise unchanged Code that is responsible for the Exploit:

```LUA
util.AddNetworkString("FidgetSpinnerColor")

net.Receive("FidgetSpinnerColor", function(len, ply)
    local wep = net.ReadEntity()
    local r, g, b = net.ReadUInt(8), net.ReadUInt(8), net.ReadUInt(8)
    wep:SetColor(Color(r, g, b))
end)
```

### The Problem

The addon does not check whether the entity sent corresponds to a hand spinner and whether the player has one, so anyone can change the colour of any entity.

### Example Code

The easiest way to demonstrate this would be the following code:

```LUA
local r, g, b = math.random(0, 255), math.random(0, 255), math.random(0, 255)
net.Start("FidgetSpinnerColor")
net.WriteEntity(LocalPlayer())
net.WriteUInt(r, 8)
net.WriteUInt(g, 8)
net.WriteUInt(b, 8)
net.SendToServer()
```

Your character will change colour

### Fixing the exploit

We need to check whether the entity sent is a hand spinner and whether the hand spinner belongs to the player who sent the net.
